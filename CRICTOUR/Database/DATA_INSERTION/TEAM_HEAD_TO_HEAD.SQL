-- CREATE A TEMPORARY TABLE TO HOLD COMBINATIONS OF TEAMS
CREATE TEMP TABLE TEAM_COMBINATIONS AS
SELECT T1.TEAM_ID AS TEAM1_ID, T2.TEAM_ID AS TEAM2_ID
FROM TEAM T1
CROSS JOIN TEAM T2
WHERE T1.TEAM_ID < T2.TEAM_ID;

-- INSERT DATA FOR ALL COMBINATIONS
INSERT INTO TEAM_HEAD_TO_HEAD (TEAM1_ID, TEAM2_ID, WIN, LOSE, DRAW, ABANDONED, TOTAL_MATCH_PLAYED)
SELECT 
    TC.TEAM1_ID,
    TC.TEAM2_ID,
    FLOOR(RANDOM() * 30+6)::INT, -- RANDOM WINS BETWEEN 0 TO 10
    FLOOR(RANDOM() * 30+4)::INT, -- RANDOM LOSSES BETWEEN 0 TO 10
    FLOOR(RANDOM() * 10)::INT, -- RANDOM DRAWS BETWEEN 0 TO 10
    0, -- NO ABANDONED MATCHES INITIALLY
    0 -- TOTAL MATCHES AS DEFAULT VALUE 0
FROM TEAM_COMBINATIONS TC;

UPDATE TEAM_HEAD_TO_HEAD
SET TOTAL_MATCH_PLAYED = WIN + LOSE + DRAW + ABANDONED;